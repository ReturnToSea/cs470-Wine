data = """
6310253
JDANIEL COLA ZERO CAN EA
7.5
5% BSHOP L.LEGEND
-0.38
6030101
GREAT NTHN MID 700ML
7
5% BSHOP L.LEGEND
-0.35000000000000003
GST Subtotal
13.77
GST Amount
1.25
EFTPOS
13.77
2022-12-21 16:59:40
2022-12-21 16:59:40
201.0
617171
TODD K
6020046
HAHN SUPER DRY STUB CTN
54.99
6875
-2.99  P51 1 FOR $52.00
6875
P51 1 FOR $52.00
-2.99
GST Subtotal
52
GST Amount
4.73
EFTPOS
52
2022-12-21 17:00:08
2022-12-21 17:00:08
202.0
193649
TODD K
6440011
MCWILL DRY SHERRY 750ML
8.99
6440011
MCWILL DRY SHERRY 750ML
8.99
GST Subtotal
17.98
GST Amount
1.6300000000000001
EFTPOS
17.98
2022-12-21 17:00:54
2022-12-21 17:00:54
202.0
193650
TODD K
6020035
XXXX GOLD CAN 6PK
10
GST Subtotal
10
GST Amount
0.91
CASH
10
2022-12-21 17:01:14
2022-12-21 17:01:14
201.0
617172
TODD K
6311143
BILLSONS VODKA CAN 4PK
2
45.980000000000004
GST Subtotal
45.980000000000004
GST Amount
4.18
EFTPOS
45.980000000000004
2022-12-21 17:01:44
2022-12-21 17:01:44
202.0
193651
TODD K
6020208
6020065
XXXX SUMMER LIME STUB CTN
53.99
5% BSHOP L.LEGEND
-2.7
GST Subtotal
51.29
GST Amount
4.66
EFTPOS
51.29
2022-12-21 17:01:50
2022-12-21 17:01:50
201.0
617173
TODD K
6030076
6210115
GLENFIDDICH 12YO 700ML
80.99
8470
-7.09  P51 1 FOR $73.90
6310255
JDANIEL DBL JACK 10PK
67.99
6909
-10.99  P51 1 FOR $57.00
6909
P51 1 FOR $57.00
-10.99
8470
P51 1 FOR $73.90
-7.09
GST Subtotal
130.9
GST Amount
11.9
CASH
150
Change
19.1
2022-12-21 17:02:07
2022-12-21 17:02:07
202.0
193652
TODD K
6450024
YALUMBA RSV SAV BLANC 2LT
14.99
8295
-0.99  P43 1 FOR $14.00
8295
P43 1 FOR $14.00
-0.99
GST Subtotal
14
GST Amount
1.27
EFTPOS
14
2022-12-21 17:02:51
2022-12-21 17:02:51
201.0
617174
TODD K
6040295
COOPERS PALE ALE CAN 6PK
19.990000000000002
6210359
GLENMORANGIE ORIGINAL 700ML
86.99
ROUNDING
0.02
GST Subtotal
106.98
GST Amount
9.73
CASH
107
2022-12-21 17:03:13
2022-12-21 17:03:13
201.0
617175
TODD K
6041037
WAYWARD MUM ROCKS IPA CAN 4PK
36.99
GST Subtotal
36.99
GST Amount
3.36
EFTPOS
36.99
2022-12-21 17:04:57
2022-12-21 17:04:57
201.0
617176
TODD K
6040015
PERONI NASTRO AZZURRO CTN
60.99
6929
-10.99  P51 1 FOR $50.00
6929
P51 1 FOR $50.00
-10.99
GST Subtotal
50
GST Amount
4.55
CASH
50
2022-12-21 17:06:20
2022-12-21 17:06:20
201.0
617177
TODD K
6210126
BOMBAY SAPPHIRE GIN 700ML
56.99
8368
-4.99  P43 1 FOR $52.00
6420067
MATEUS ROSE
15.99
6420067
MATEUS ROSE
15.99
6410503
ST HUBERTS STAG PINOT NOIR
6
112.15
8368
P43 1 FOR $52.00
-4.99
GST Subtotal
196.13
GST Amount
17.830000000000002
EFTPOS
196.13
2022-12-21 17:06:49
2022-12-21 17:06:49
201.0
617178
TODD K
6310143
6310797
SMIRNOFF SELTZER BERRY CAN 4PK
18.990000000000002
ROUNDING
0.01
GST Subtotal
18.990000000000002
GST Amount
1.73
CASH
50
EFTPOS
10
6030074
2022-12-21 17:21:18
2022-12-21 17:21:18
202.0
193665
TODD K
6310137
CCLUB DRY CAN 6PK
28.990000000000002
GST Subtotal
28.990000000000002
GST Amount
2.64
EFTPOS
28.990000000000002
2022-12-21 17:34:33
2022-12-21 17:34:33
2022-12-21 17:22:35
2022-12-21 17:22:35
201.0
617180
TODD K
VOID ENTIRE SALE
159.95000000000002
VOID
6310101
BUNDY RED/COLA CAN 6PK
29.990000000000002
VOID
6310128
CCLUB COLA CAN 6PK
28.990000000000002
VOID
6100081
PURE BLONDE CIDER 3X10P
79.99
VOID
6040844
WILDE CRISP LAGER GF CAN SGL
6.5
VOID
6040084
WILDE PALE ALE GF STUB SGL
6.5
VOID
6500006
ICE 5kg BAG
3.99
VOID
6500006
ICE 5kg BAG
3.99
2022-12-21 17:22:42
2022-12-21 17:22:42
202.0
193666
TODD K
6210457
SINGLETON MALT MASTERS 700ML
61.99
6210457
SINGLETON MALT MASTERS 700ML
61.99
ROUNDING
0.02
GST Subtotal
123.98
GST Amount
11.27
CASH
124
6210001
2022-12-21 17:23:22
2022-12-21 17:23:22
202.0
193667
TODD K
6510075
SCHWEPPES LEMONADE 1.1L
3
6600055
THINS LIGHT & TANGY 175G
4.5
6600005
TWISTIES CHEESE 90GM
3.5
6310528
WTURKEY 101 CAN 10PK
62.99
GST Subtotal
73.99
GST Amount
6.73
EFTPOS
73.99
2022-12-21 17:23:34
2022-12-21 17:23:34
202.0
193668
TODD K
6310528
WTURKEY 101 CAN 10PK
62.99
GST Subtotal
62.99
GST Amount
5.73
EFTPOS
62.99
2022-12-21 17:24:05
2022-12-21 17:24:05
201.0
617181
TODD K
6040844
WILDE CRISP LAGER GF CAN SGL
6.5
6040084
WILDE PALE ALE GF STUB SGL
6.5
6310128
CCLUB COLA CAN 6PK
28.990000000000002
6310101
BUNDY RED/COLA CAN 6PK
29.990000000000002
8884
-5.00  BUNDY 6PKS $24.99
6310428
STONES GINGER BEER CAN 4PK
20.990000000000002
6100081
PURE BLONDE CIDER 3X10P
79.99
6500006
ICE 5kg BAG
3.99
6500006
ICE 5kg BAG
3.99
8884
BUNDY 6PKS $24.99
-5
GST Subtotal
175.94
GST Amount
15.99
EFTPOS
175.94
2022-12-21 17:24:13
2022-12-21 17:24:13
202.0
193669
TODD K
6310528
WTURKEY 101 CAN 10PK
64.99
ROUNDING
0.01
GST Subtotal
64.99
GST Amount
5.91
CASH
65
7848
2022-12-21 17:24:35
2022-12-21 17:24:35
201.0
617182
TODD K
6200100
LFL 28 SHOTS BUCKET
33.99
ROUNDING
0.01
GST Subtotal
33.99
GST Amount
3.09
CASH
34
2022-12-21 17:24:41
2022-12-21 17:24:41
202.0
193670
TODD K
6310552
WTURKEY RARE/COLA 8% CAN 4PK
30.990000000000002
ROUNDING
0.01
GST Subtotal
30.990000000000002
GST Amount
2.82
CASH
50
Change
19
2022-12-21 17:30:13
2022-12-21 17:30:13
202.0
193671
TODD K
6041049
CARLSBERG 500ML CAN 4PK
15.99
GST Subtotal
15.99
GST Amount
1.45
EFTPOS
15.99
2022-12-21 17:33:09
2022-12-21 17:33:09
202.0
193672
TODD K
6310773
SMIRNOFF SELTZER LIME CAN CTN
98.99000000000001
5% BSHOP L.LEGEND
-4.95
6310773
SMIRNOFF SELTZER LIME CAN CTN
98.99000000000001
5% BSHOP L.LEGEND
-4.95
ROUNDING
0.02
GST Subtotal
188.08
GST Amount
17.1
CASH
200
Change
11.9
GST Amount
5.18
EFTPOS
56.99
2022-12-21 17:54:26
2022-12-21 17:54:26
201.0
617186
TRACEY LANGE
6310094
BUNDY OP/COLA 10PK
52.99
6980
-4.99  P51 1 FOR $48.00
6310161
GENTLEMAN JACK CAN 4PK
26.490000000000002
6980
P51 1 FOR $48.00
-4.99
GST Subtotal
74.49
GST Amount
6.7700000000000005
EFTPOS
74.49
2022-12-21 17:55:15
2022-12-21 17:55:15
202.0
193681
TODD K
6040168
COOPERS SESSION ALE 6PK
20.990000000000002
5% BSHOP L.LEGEND
-1.05
ROUNDING
0.01
GST Subtotal
19.94
GST Amount
1.81
CASH
50
Change
30.05
2022-12-21 17:55:28
2022-12-21 17:55:28
202.0
193682
TODD K
NS1
NO SALE
0
2022-12-21 18:00:18
2022-12-21 18:00:18
201.0
617187
TODD K
6020035
XXXX GOLD CAN 6PK
10
GST Subtotal
10
GST Amount
0.91
EFTPOS
10
2022-12-21 18:01:20
2022-12-21 18:01:20
202.0
193683
TODD K
6420171
DEBORT KV PROSECCO ROSE 750ML
2
37.980000000000004
6878
-6.08  P51 1 FOR $15.00
5% BSHOP L.LEGEND
-1.9000000000000001
6420056
DEBORT KV PROSECCO 750ML
2
37.980000000000004
6913
-6.08  P51 1 FOR $15.00
5% BSHOP L.LEGEND
-1.9000000000000001
6400105
YELLOW TAIL SAUV BLANC
11.99
5852
-2.39  P43 1 FOR $9.00
5% BSHOP L.LEGEND
-0.6
6400105
YELLOW TAIL SAUV BLANC
11.99
5852
-2.39  P43 1 FOR $9.00
5% BSHOP L.LEGEND
-0.6
5852
P43 1 FOR $9.00
2
-4.78
6878
P51 1 FOR $15.00
2
-6.08
6913
P51 1 FOR $15.00
2
-6.08
GST Subtotal
78
GST Amount
7.09
EFTPOS
78
2022-12-21 18:01:42
2022-12-21 18:01:42
202.0
193684
TODD K
6310530
WTURKEY 101 CAN 4PK
28.990000000000002
ROUNDING
0.01
GST Subtotal
28.990000000000002
GST Amount
2.64
CASH
50
Change
21
2022-12-21 18:22:24
2022-12-21 18:22:24
2022-12-21 18:01:52
2022-12-21 18:01:52
202.0
193685
TODD K
NS1
NO SALE
0
2022-12-21 18:02:28
2022-12-21 18:02:28
201.0
617188
TODD K
6310921
GOOD TIDES SELTZ LIME CAN SGL
7
GST Subtotal
7
GST Amount
0.64
EFTPOS
7
2022-12-21 18:02:38
2022-12-21 18:02:38
202.0
193686
TODD K
NS1
NO SALE
0
2022-12-21 18:02:41
2022-12-21 18:02:41
201.0
617189
TODD K
6310528
WTURKEY 101 CAN 10PK
62.99
GST Subtotal
62.99
GST Amount
5.73
EFTPOS
62.99
2022-12-21 18:04:06
2022-12-21 18:04:06
201.0
617190
TODD K
6040553
BRIDGE RD LITTLE BLING CAN SGL
7
-3.09  SKIRMISH/BSHOP
6040635
BLOKE IN A BAR LAGER CAN SGL
5.5
-2.43  SKIRMISH/BSHOP
6040524
BLACKFLAG AFFINITY CAN SGL
7
-3.09  SKIRMISH/BSHOP
6040575
10 TOES SOUR CAN SGL
8
-3.54  SKIRMISH/BSHOP
6040878
YOUNG HENRYS HAZY PALE CAN SGL
8
-3.54  SKIRMISH/BSHOP
6041019
FELONS PALE CAN SGL
7.5
-3.32  SKIRMISH/BSHOP
SKIRMISH/BSHOP
-19.01
GST Subtotal
23.990000000000002
GST Amount
2.18
EFTPOS
23.990000000000002
2022-12-21 18:04:23
2022-12-21 18:04:23
201.0
617191
TODD K
6932
6020168
BYRON BAY LAGER STUB SGL
5
GST Subtotal
5
GST Amount
0.45
EFTPOS
5
2022-12-21 18:08:20
2022-12-21 18:08:20
201.0
617192
TODD K
6040697
6600024
SAMBOY BBQ BLAST 175G
4.5
6020171
HAHN SUPER DRY 700ML 3PK
21
GST Subtotal
15
GST Amount
1.36
EFTPOS
15
2022-12-21 18:28:55
2022-12-21 18:28:55
201.0
617207
TODD K
6020035
XXXX GOLD CAN 6PK
10
GST Subtotal
10
GST Amount
0.91
EFTPOS
10
2022-12-21 18:29:15
2022-12-21 18:29:15
201.0
617208
TODD K
6420141
VOID ENTIRE SALE
0
2022-12-21 18:33:38
2022-12-21 18:33:38
201.0
617209
TODD K
6040579
10 TOES IPA CAN 4PK
5
129.95
-30.31  SKIRMISH/BSHOP
6040578
10 TOES IPA CAN SGL
3
28.5
-6.65  SKIRMISH/BSHOP
6040581
10 TOES PIPELINE PALE CAN SGL
8
-1.87  SKIRMISH/BSHOP
6310648
GORDONS GIN AND TONIC CAN 10PK
47.99
5% BSHOP L.LEGEND
-2.4
-10.63  SKIRMISH/BSHOP
SKIRMISH/BSHOP
-49.46
GST Subtotal
162.58
GST Amount
14.780000000000001
VOID
6040580
10 TOES IPA CAN CTN
116.99000000000001
VOID
SKIRMISH/BSHOP
-49.46
VOID
SKIRMISH/BSHOP
-49.46
VOID
SKIRMISH/BSHOP
-49.46
EFTPOS
162.58
2022-12-21 18:34:03
2022-12-21 18:34:03
201.0
617210
TODD K
6310196
JBEAM COLA 4.8% CAN  6PK
28.990000000000002
6210090
WTURKEY 700ML
55.99
7835
-6.99  P51 1 FOR $49.00
7835
P51 1 FOR $49.00
-6.99
GST Subtotal
77.99
GST Amount
7.09
EFTPOS
77.99
2022-12-21 18:35:17
2022-12-21 18:35:17
201.0
617211
TODD K
6040811
TERELLA PALE ALE CAN SGL
8.5
-1.80  SKIRMISH/BSHOP
6040715
YOUR MATES SALLY CAN SGL
8.5
-1.80  SKIRMISH/BSHOP
6040572
10 TOES VANILLA PORTER CAN SGL
8.5
-1.80  SKIRMISH/BSHOP
6040932
BRIGHT HELLFIRE AMBER CAN SGL
6
-1.27  SKIRMISH/BSHOP
6040887
BREWDOG ELVIS GF IPA CAN SGL
8.5
-1.80  SKIRMISH/BSHOP
6040665
BLACK HOPS GOAT HAZY CAN SGL
9
-1.91  SKIRMISH/BSHOP
6311276
FIREBALL COLA 10% CAN SGL
9.5
-2.01  SKIRMISH/BSHOP
6311311
BROOKVALE GINGER TROP CAN SGL
6.5
-1.38  SKIRMISH/BSHOP
6210157
NED AUSTRALIAN WHISKEY 700ML
52.99
-11.24  SKIRMISH/BSHOP
SKIRMISH/BSHOP
-25.01
GST Subtotal
92.98
GST Amount
8.45
VOID
6311276
FIREBALL COLA 10% CAN SGL
9.5
VOID
6311311
BROOKVALE GINGER TROP CAN SGL
6.5
VOID
6210157
NED AUSTRALIAN WHISKEY 700ML
52.99
EFTPOS
92.98
2022-12-21 18:35:52
2022-12-21 18:35:52
201.0
617212
TODD K
6200004
PARTY SHOTS SGL
2
6200004
PARTY SHOTS SGL
2
6200004
PARTY SHOTS SGL
2
6311312
BROOKVALE GINGER TROP CAN 6PK
26.990000000000002
6310629
BROOKVALE SP RUM GB CAN 6PK
26.990000000000002
5836
-1.99  P43 1 FOR $25.00
6200004
PARTY SHOTS SGL
2
5836
P43 1 FOR $25.00
-1.99
GST Subtotal
59.99
GST Amount
5.45
EFTPOS
59.99
2022-12-21 18:36:19
2022-12-21 18:36:19
201.0
617213
TODD K
6310654
BEARDED LADY COLA 12% CAN SGL
11
5% BSHOP L.LEGEND
-0.55
GST Subtotal
10.450000000000001
GST Amount
0.9500000000000001
EFTPOS
10.450000000000001
2022-12-21 18:38:13
2022-12-21 18:38:13
201.0
617214
TODD K
6030100
GREAT NTHN MID 3 PACK
19
GST Subtotal
19
GST Amount
1.73
EFTPOS
19
10% Item Discount 4
-0.8
6311307
HARD ROCK LIME 500ML CAN SGL
8
10% Item Discount 4
-0.8
GST Subtotal
14.4
GST Amount
1.31
EFTPOS
14.4
2022-12-21 19:04:23
2022-12-21 19:04:23
201.0
617226
TODD K
6310248
JDANIEL COLA CAN 4PK
22.490000000000002
GST Subtotal
22.490000000000002
GST Amount
2.04
EFTPOS
22.490000000000002
2022-12-21 19:06:21
2022-12-21 19:06:21
201.0
617227
TODD K
6311182
STRONGBOW SELTZ PINE CAN 4PK
17.990000000000002
-8.17  SKIRMISH/BSHOP
6311179
STRONGBOW SELTZ RASP CAN 4PK
17.990000000000002
-8.17  SKIRMISH/BSHOP
6310931
GRAINSHAKER TROP PINE BTL 4PK
18.990000000000002
-8.63  SKIRMISH/BSHOP
SKIRMISH/BSHOP
-24.97
GST Subtotal
30
GST Amount
2.73
EFTPOS
30
2022-12-21 19:06:57
2022-12-21 19:06:57
201.0
617228
TODD K
*** End of Shift ***
"""

# Split data into lines
lines = data.strip().splitlines()

# Initialize variables
items = []
current_item = {}
gst_subtotal = None
gst_amount = None
date_purchased = None

# Iterate through lines
i = 0
while i < len(lines):
    line = lines[i].strip()

    # Check for purchase ID (assumed to be a numeric line of 7 characters)
    if line.isdigit() and len(line) == 7:
        # Ignore the purchase ID
        i += 1
        continue  # Skip to the next iteration

    # Check for item name (assumed to be a line with alphabetic characters)
    elif any(char.isalpha() for char in line):  # Ensure there's at least one alphabetic character
        current_item = {'item_name': line}  # Save item name

    # Check for price (assumed to be a numeric line with possible decimal)
    elif line.replace('.', '', 1).isdigit():
        if 'item_name' in current_item:  # Only add price if there's a valid item
            current_item['price'] = float(line)  # Save price

    # Check for discount (starts with "-" for negative discounts)
    elif line.startswith('-') and line[1:].replace('.', '', 1).isdigit():
        if 'item_name' in current_item:  # Only add discount if there's a valid item
            current_item['discount'] = float(line)  # Save discount

    # Check for GST Subtotal
    elif line == 'GST Subtotal':
        gst_subtotal = float(lines[i + 1].strip())
        i += 1  # Skip next line as it’s the subtotal value

    # Check for GST Amount
    elif line == 'GST Amount':
        gst_amount = float(lines[i + 1].strip())
        i += 1  # Skip next line as it’s the amount value

    # Check for date (assumed to be in "YYYY-MM-DD HH:MM:SS" format)
    elif len(line) == 19 and line[4] == '-' and line[10] == ' ':
        date_purchased = line  # Save purchase date

    # If current_item is complete (has item_name and price), add to items
    if 'item_name' in current_item and 'price' in current_item:
        items.append(current_item)
        current_item = {}  # Reset for the next item

    i += 1

# Build final data structure
result = {
    "items": items,
    "GST_subtotal": gst_subtotal,
    "GST_amount": gst_amount,
    "date_purchased": date_purchased
}

# Display result
print(result)

